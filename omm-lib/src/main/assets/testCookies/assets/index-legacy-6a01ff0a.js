System.register([],(function(e,t){"use strict";return{execute:function(){
/*!
       * 工具类：常用数据处理工具
       * Utils - v1.0.0 (2021/7/9, 11:07:14 AM)
       *
       */
const t={titleCase:e=>null==e||0===e.length?e:e.replace(/^[a-z]/,(e=>e.toLocaleUpperCase())),compressLetter(e,t){let r=new RegExp("([a-zA-Z])\\1+",t?"ig":"g");return e.replace(r,((e,t)=>e.length+t))},sleep(e){let t=new Date,r=t.getTime()+e;for(;;)if(t=new Date,t.getTime()>r)return},trim:e=>e.replace(/(^\s*)|(\s*$)/g,""),trimAll:e=>e.replace(/\s+/g,""),replaceAll:(e,t,r)=>e.replace(new RegExp(t,"gm"),r),numberFormatter:e=>11===e.length?e.replace(/^(\d{3})\d{4}(\d{4})$/,"$1****$2"):e,moneyFormatter:e=>parseFloat(e).toFixed(2).toString().split("").reverse().join("").replace(/(\d{3})/g,"$1,").replace(/\,$/,"").split("").reverse().join(""),dateFormatter(e,r,a=1,l=!0){let n="";return n=3===a?t._formatTimeStr(e,r):t._formatDate(r,e,a,l),n},_formatDate(e,t,r=1,a){if(!t)return"";let l;4===r?l=t:(~(t=t.toString()).indexOf(".")&&(t=t.substring(0,t.indexOf("."))),e||(e="y-m-d h:i:s"),(t=t.replace("T"," ").replace(/\-/g,"/"))?(2===r&&(t=a?Number(t):1e3*Number(t)),l=new Date(t)):l=new Date);let n=l.getMonth()+1,o=l.getDate(),i=l.getHours(),s=l.getMinutes(),g=l.getSeconds();n=n<10?"0"+n:n,o=o<10?"0"+o:o,i=i<10?"0"+i:i,s=s<10?"0"+s:s,g=g<10?"0"+g:g;let m=[l.getFullYear().toString(),n.toString(),o.toString(),i.toString(),s.toString(),g.toString()];for(let c=0;c<m.length;c++)e=e.replace("ymdhis".charAt(c),m[c]);return e},_formatTimeStr(e,t){if(e){if(14===(e=e.toString()).length){let r=e.split(""),a="ymdhis";t||(t="y-m-d h:i:s");let l=[[...r].splice(0,4).join(""),[...r].splice(4,2).join(""),[...r].splice(6,2).join(""),[...r].splice(8,2).join(""),[...r].splice(10,2).join(""),[...r].splice(12,2).join("")];for(let e=0;e<l.length;e++)t=t.replace(a.charAt(e),l[e]);return t}return e}},rgbToHex:(e,r,a)=>"#"+t._toHex(e)+t._toHex(r)+t._toHex(a),_toHex:e=>(e=parseInt(e,10),isNaN(e)?"00":(e=Math.max(0,Math.min(e,255)),"0123456789ABCDEF".charAt((e-e%16)/16)+"0123456789ABCDEF".charAt(e%16))),hexToRGB(e){if(4===e.length){let t=e.substring(1,4);e="#"+t+t}let t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:null},unique(e){e=e||6;let t="";for(let r=0;r<e;r++)t+=Math.floor(10*Math.random());return"firstui_"+(new Date).getTime()+t},getUUID:()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(e=>("x"===e?16*Math.random()|0:8).toString(16))),distinctArray:(e,t)=>(e=e||[],t=t||[],[...new Set([...e,...t])]),getDateTimeSlot(e){let t=new Date,r=t.toDateString(),a=t.toDateString();switch(e){case 1:r=`${r} 00:00:00`,a=`${a} 23:59:59`;break;case 2:t.setTime(t.getTime()-864e5),r=`${t.toDateString()} 00:00:00`,a=`${t.toDateString()} 23:59:59`;break;case 3:let e=t.getDay()||7;t.setDate(t.getDate()-e+1),r=`${t.toDateString()} 00:00:00`,a=`${a} 23:59:59`;break;case 4:r=`${t.getFullYear()}-${t.getMonth()+1}-01 00:00:00`,a=`${a} 23:59:59`;break;case 5:r=`${t.getFullYear()}-01-01 00:00:00`,a=`${a} 23:59:59`}return{start:new Date(r.replace(/\-/g,"/")),end:new Date(a.replace(/\-/g,"/"))}},getUrlParam(e){let t=e.split("?"),r={};return t.length>1&&(t=t[1].split("&"),t.forEach((e=>{e=e.split("="),r[e[0]]=e[1]}))),r},debounce(e,t=1e3,r=!0){let a;return function(){let l=this,n=arguments;if(a&&clearTimeout(a),r){let r=!a;a=setTimeout((()=>{a=null}),t),r&&e.apply(l,n)}else a=setTimeout((()=>{e.apply(l,n)}),t)}},throttle(e,t=1e3,r=1){let a,l=0;return function(){let n=this,o=arguments;if(1===r){let r=Date.now();r-l>t&&(e.apply(n,o),l=r)}else 2===r&&(a||(a=setTimeout((()=>{a=null,e.apply(n,o)}),t)))}},formatTimeAgo(e,r=1,a=!0,l="前",n=6,o=10,i=!0){const s=t.dateFormatter(e,"y/m/d h:i:s",r,a),g=new Date(s).getTime();let m="";const c=(new Date).getTime()-g;if(c>0){const e=6e4,t=60*e,r=24*t,a=30*r,s=12*a,g=Math.floor(c/s),u=Math.floor(c/a),h=Math.floor(c/r),p=Math.floor(c/t),x=Math.floor(c/e),f=Math.floor(c/1e3);let d=!1;switch(n){case 1:d=!!(x||p||h||u||g);break;case 2:d=!!(p||h||u||g);break;case 3:d=!!(h||u||g);break;case 4:d=!(!u&&!g);break;case 5:d=!!g}d||(m=g?`${g}年${l}`:u?`${u}个月${l}`:h?1===h&&i?"昨天":2===h&&i?"前天":`${h}天${l}`:p?`${p}小时${l}`:x?`${x}分钟${l}`:f<(o=o<60?o:59)?"刚刚":`${f}秒${l}`)}return m},getRandomHexColor(){const e=["0","1","2","4","5","6","7","8","9","a","b","c","d","e","f"],t=Math.floor(Math.random()*e.length),r=Math.floor(Math.random()*e.length),a=Math.floor(Math.random()*e.length),l=Math.floor(Math.random()*e.length),n=Math.floor(Math.random()*e.length),o=Math.floor(Math.random()*e.length);return`#${e[t]+e[r]+e[a]+e[l]+e[n]+e[o]}`},convertCurrency(e){const r=t.trimAll(e.toString()).replace("￥","").replace(",","");if(""==r)return"";const a=parseFloat(r),l=new Array("零","壹","贰","叁","肆","伍","陆","柒","捌","玖"),n=new Array("","拾","佰","仟"),o=new Array("","万","亿","兆"),i=new Array("角","分","毫","厘");let s="",g="",m="",c=[];if(a>=1e15)return"";if(0==a)return m=l[0]+"元整",m;if(-1==r.indexOf(".")?(s=r,g=""):(c=r.split("."),s=c[0],g=c[1].substring(0,4)),parseInt(s,10)>0){let e=0,t=s.length;for(let r=0;r<t;r++){let a=s.substring(r,r+1),i=t-r-1,g=i/4,c=i%4;"0"==a?e++:(e>0&&(m+=l[0]),e=0,m+=l[parseInt(a)]+n[c]),0==c&&e<4&&(m+=o[g])}m+="元"}if(""!=g){let e=g.length;for(let t=0;t<e;t++){let e=g.substring(t,t+1);"0"!=e&&(m+=l[parseInt(e)]+i[t])}}return""==m?m+=l[0]+"元整":""==g&&(m+="整"),m},removeTags:e=>e.replace(/<[^>]+>/g,"")};e("u",{titleCase:t.titleCase,compressLetter:t.compressLetter,sleep:t.sleep,trim:t.trim,trimAll:t.trimAll,replaceAll:t.replaceAll,numberFormatter:t.numberFormatter,moneyFormatter:t.moneyFormatter,dateFormatter:t.dateFormatter,rgbToHex:t.rgbToHex,hexToRGB:t.hexToRGB,unique:t.unique,distinctArray:t.distinctArray,getDateTimeSlot:t.getDateTimeSlot,getUrlParam:t.getUrlParam,getUUID:t.getUUID,debounce:t.debounce,throttle:t.throttle,formatTimeAgo:t.formatTimeAgo,getRandomHexColor:t.getRandomHexColor,convertCurrency:t.convertCurrency,removeTags:t.removeTags})}}}));
