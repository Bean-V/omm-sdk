import{d as q,u as C,a as F,J as N,f as t,o as d,l as f,z as e,h as o,j as _,W as n,F as S,g as U,Z as A,_ as E}from"./index-24b7b5a4.js";import{a as G,b as J}from"./useFeedback-d8e89425.js";const L={class:"page"},T={style:{flex:"1","margin-top":"30px"}},W={style:{"margin-bottom":"26px",background:"#fff",padding:"15px","border-radius":"4px"}},Z={style:{margin:"16px"}},D=q({name:"zjbg",__name:"zjbg",setup(H){const v=C(),p=F(),i=N(),m=p.query.id,b=p.query.biaoti,{loading:h,data:l,run:x}=G();x(m);const{loading:k,data:a,run:y}=J();a.value.hechajgdm=i.userInfo.depcode,a.value.hechabumen=i.userInfo.depname,a.value.hecharen=i.userInfo.name,a.value.hecharensfz=i.userInfo.idcard,a.value.biaoti=b,a.value.bianhaoid=m;function j(){console.log("asdf"),y().then(u=>{v.go(0)})}function z(u){console.log("表单校验失败",u)}return(u,g)=>{const r=t("van-skeleton-paragraph"),s=t("van-cell"),c=t("van-cell-group"),I=t("van-field"),w=t("van-button"),V=t("van-form"),B=t("van-skeleton");return d(),f("div",L,[e(B,{loading:n(h),animate:!1},{template:o(()=>[_("div",T,[_("div",W,[e(r,{"row-width":"60%"}),e(r),e(r),e(r)])])]),default:o(()=>[n(l)?(d(),f(S,{key:0},[e(c,{style:{"margin-top":"20px"},inset:""},{default:o(()=>[e(s,{title:"标题",value:n(l).biaoti},null,8,["value"]),e(s,{title:"提交人",value:n(l).hecharen},null,8,["value"]),e(s,{title:"提交时间",value:n(l).fankuishijian},null,8,["value"]),e(s,{title:"提交单位",label:n(l).hechabumen},null,8,["label"])]),_:1}),e(c,{style:{"margin-top":"20px"},inset:""},{default:o(()=>[e(s,{title:"内容",label:n(l).fankuineirong},null,8,["label"])]),_:1})],64)):(d(),U(V,{key:1,onSubmit:j,onFailed:z},{default:o(()=>[e(c,{style:{"margin-top":"20px"},inset:""},{default:o(()=>[e(I,{modelValue:n(a).fankuineirong,"onUpdate:modelValue":g[0]||(g[0]=R=>n(a).fankuineirong=R),name:"fankuineirong",rules:[{required:!0,message:"请输入"}],"label-align":"top",rows:"5",autosize:"",label:"内容",type:"textarea",maxlength:"500",placeholder:"请输入内容","show-word-limit":""},null,8,["modelValue"])]),_:1}),_("div",Z,[e(w,{block:"",type:"primary","native-type":"submit",loading:n(k)},{default:o(()=>[A(" 提交 ")]),_:1},8,["loading"])])]),_:1}))]),_:1},8,["loading"])])}}});const O=E(D,[["__scopeId","data-v-696fd8c9"]]);export{O as default};
