import{d as B,r as o,T as P,e as D,C as G,f as a,o as s,l as d,z as c,h as r,F as R,D as S,Z as _,n as y,ap as U,g as F,j as b,t as z,_ as I}from"./index-24b7b5a4.js";const Z={class:"page"},H={key:0},K={key:0,class:"error-message"},M={key:1},O={class:"cell_custom_title"},J={key:0,slot:"finished"},k=10,q=1,C=0,Q=B({name:"hcfk_check_list",__name:"foreigner_list",setup(W){const j=o(!1),u=o(!1),n=P({size:k,current:q,total:C}),V=D(()=>n.size*n.current-n.size),p=o([]),h=o(!0),g=o(!1),w=async()=>{n.size=k,n.current=q,n.total=C,u.value=!1,p.value=[]};function x(){j.value=!0,U({num:n.size,start:V.value,zzjgdm:"653000000000",condition:"and create_time like '2024-08-01%'"}).then(l=>{if(u.value=!0,l.rows&&Array.isArray(l.rows)){const i=l.rows.map(e=>({id:e.id,face:e.face,pic2:e.pic2,passport:e.passport,xm:e.xm,sex:e.sex,birthday:e.birthday,countryname:e.countryname,plate_number:e.plate_number,create_time:e.create_time,rzjdmc:e.rzjdmc,rzjdtime:e.rzjdtime,cjtime:e.cjtime,cjche:e.cjche,qzlx:e.qzlx,mzmc:e.mzmc,churukouan:e.churukouan,qianwangdi:e.qianwangdi,churujingshiyou:e.churujingshiyou,tel:e.tel,qzhm:e.qzhm,r986time:e.r986time,c986time:e.c986time,rjcztime:e.rjcztime,rjcph:e.rjcph,rjjczmc:e.rjjczmc,cjcztime:e.cjcztime,cjjczcph:e.cjjczcph,cjjczmc:e.cjjczmc,chujbjjcztime:e.chujbjjcztime,chujbjjczcph:e.chujbjjczcph,chujbjjczmc:e.chujbjjczmc,jrgongantime:e.jrgongantime,jrgongancph:e.jrgongancph,jrgonganmc:e.jrgonganmc,rzjdfjh:e.rzjdfjh,rzjdtftime:e.rzjdtftime,entry_exit:e.entry_exit,country:e.country,sfccrj:e.sfccrj,rjbjjczmdd:e.rjbjjczmdd,jbjjczmdd:e.jbjjczmdd,jrgajczsjmdd:e.jrgajczsjmdd,cjbjjczmdd:e.cjbjjczmdd,rjbjjczlrr:e.rjbjjczlrr,jbjjczlrr:e.jbjjczlrr,jrgajczsjlrr:e.jrgajczsjlrr,cjbjjczlrr:e.cjbjjczlrr,cgmtime:e.cgmtime,cgmcph:e.cgmcph,xcxkzzlhm:e.xcxkzzlhm,xcxkzzlhmc:e.xcxkzzlhmc}));p.value.push(...i),n.current+=1,n.total=l.total,l.total<n.current*n.size&&(u.value=!0)}}).catch(l=>{g.value=!0,u.value=!0}).finally(()=>{j.value=!1,h.value=!1})}return G(()=>{x()}),o(!1),o(null),(l,i)=>{const e=a("van-skeleton"),v=a("van-icon"),f=a("van-tag"),A=a("van-space"),m=a("van-cell"),E=a("van-cell-group"),L=a("van-divider"),N=a("van-list"),T=a("van-pull-refresh");return s(),d("div",Z,[c(T,{modelValue:j.value,"onUpdate:modelValue":i[1]||(i[1]=t=>j.value=t),onRefresh:w,"success-text":"加载成功","loading-text":"加载中......"},{default:r(()=>[c(e,{loading:h.value},null,8,["loading"]),h.value?y("",!0):(s(),d("div",H,[g.value?(s(),d("div",K,"加载失败，请重试")):(s(),d("div",M,[c(N,{loading:j.value,"onUpdate:loading":i[0]||(i[0]=t=>j.value=t),finished:u.value,offset:50,"finished-text":"",onLoad:x},{default:r(()=>[(s(!0),d(R,null,S(p.value,t=>(s(),F(E,{inset:"",style:{"margin-top":"20px"}},{default:r(()=>[c(m,{"is-link":"true",to:"/hcfk/foreigner/foreigner_detail?zjhm="+t.passport+"&qzlx="+t.qzlx+"&qzhm="+t.qzhm+"&rzjdmc="+t.rzjdmc+"&rzjdtime="+t.rzjdtime+"&rzjdtftime="+t.rzjdtftime+"&rzjdfjh="+t.rzjdfjh+"&xcxkzzlhm="+t.xcxkzzlhm+"&plate_number="+t.plate_number+"&id="+t.id+"&churujingshiyou="+t.churujingshiyou+"&tel="+t.tel},{title:r(()=>[b("div",O,[b("span",null,z(t.xm),1)]),c(A,null,{default:r(()=>[c(f,{color:"#ffd01e"},{default:r(()=>[c(v,{name:"phone-o"}),_(" "+z(t.tel),1)]),_:2},1024),c(f,{type:"primary"},{default:r(()=>[c(v,{name:"friends-o"}),_(" "+z(t.countryname),1)]),_:2},1024),c(f,{type:"success"},{default:r(()=>[c(v,{name:"debit-pay"}),_(" "+z(t.birthday),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["to"]),c(m,{title:"证件号：",value:t.passport},null,8,["value"]),c(m,{title:"入口岸名称：",value:t.churukouan},null,8,["value"]),c(m,{title:"入境国门通过时间：",value:t.create_time},null,8,["value"]),c(m,{title:"出境H986通过时间：",value:t.c986time},null,8,["value"])]),_:2},1024))),256)),u.value?(s(),d("div",J,[c(L,null,{default:r(()=>[_("到底了")]),_:1})])):y("",!0)]),_:1},8,["loading","finished"])]))]))]),_:1},8,["modelValue"])])}}});const Y=I(Q,[["__scopeId","data-v-22eded8e"]]);export{Y as default};
