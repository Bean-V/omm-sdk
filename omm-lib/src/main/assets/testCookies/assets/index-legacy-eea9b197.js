System.register(["./index-legacy-18636006.js"],(function(e,l){"use strict";var a,t,n,s,o,u,i,r,d,c,h,v,p,f,m,g,b,x;return{setters:[e=>{a=e.d,t=e.a,n=e.J,s=e.r,o=e.f,u=e.o,i=e.l,r=e.z,d=e.h,c=e.j,h=e.F,v=e.D,p=e.O,f=e.P,m=e.Q,g=e.R,b=e.S,x=e.g}],execute:function(){var k=document.createElement("style");k.textContent=".searchBJ{background-image:url("+new URL("bg01-87103c2e.png",l.meta.url).href+");background-size:cover;background-position:center;background-repeat:no-repeat;height:100vh;width:100vw;position:fixed;top:0;left:0}.searchClass{display:flex;align-items:flex-end;justify-content:center;height:40vh;padding:0 20px}.searchChild{width:100vw}.searchBtn{color:#072e7d;font-size:16px}.searchTitle{font-size:30px;color:#fff;font-weight:700;position:absolute;top:25%;left:50%;transform:translate(-50%,-25%)}\n",document.head.appendChild(k);const w={class:"page"},y={key:0},C={style:{width:"100vw"}},V={key:1},_=c("div",{class:"searchBJ"},null,-1),z=c("div",{class:"searchTitle"},"人 员 检 索",-1),j={class:"searchClass"};e("default",a({__name:"index",setup(e){const l=t(),a=n(),k=l.query.id,U=s("653022200301260024"),B=s(""),J=s(!1),S=s([]);s([]);const q=s([]),O=s([]),R=()=>{p({sfzhm:k||U.value}).then((e=>{e.length>0?(S.value=[],q.value=[],O.value=[],e.filter((e=>{S.value.push({text:e.description,value:e.tablename,sjlx:e.sjlx})}))):f({message:"未查询到数据"})}))},T=({selectedOptions:e})=>{if("授权"===e[0].sjlx)m({title:"无权限",message:"未授权，是否申请授权"}).then((()=>{console.log(e[0]),g.push({path:"/hcfk/search/search_addCheck",query:{tableName:e[0].text,tableValue:e[0].value,sfzh:U.value}})})).catch((()=>{}));else{q.value=[],O.value=[],J.value=!1,B.value=e[0].text;const l={sfzhm:U.value,tname:e[0].value+":"+e[0].sjlx,usfzhm:a.userInfo.idcard};b(l).then((e=>{let l={};e.columns.filter(((e,l)=>{q.value.push({prop:e.feildme,label:e.description})})),e.data.filter(((e,a)=>{l={},e.filter(((e,a)=>{l[q.value[a].prop]=e})),O.value.push(l)}))}))}};return(e,l)=>{const a=o("van-search"),t=o("van-sticky"),n=o("van-field"),s=o("van-picker"),p=o("van-popup"),f=o("el-table-column"),m=o("el-table"),g=o("van-cell-group");return u(),i("div",w,[S.value.length>0?(u(),i("div",y,[r(t,null,{default:d((()=>[r(a,{modelValue:U.value,"onUpdate:modelValue":l[0]||(l[0]=e=>U.value=e),"show-action":"",label:"地址",shape:"round",placeholder:"请输入搜索关键词",onSearch:R},{action:d((()=>[c("div",{onClick:R},"搜索")])),_:1},8,["modelValue"])])),_:1}),r(n,{modelValue:B.value,"onUpdate:modelValue":l[1]||(l[1]=e=>B.value=e),"is-link":"",readonly:"",label:"类型",placeholder:"选择类型",onClick:l[2]||(l[2]=e=>J.value=!0)},null,8,["modelValue"]),r(p,{show:J.value,"onUpdate:show":l[4]||(l[4]=e=>J.value=e),round:"",position:"bottom"},{default:d((()=>[r(s,{columns:S.value,onCancel:l[3]||(l[3]=e=>J.value=!1),onConfirm:T},null,8,["columns"])])),_:1},8,["show"]),c("div",C,[r(m,{data:O.value,border:"",stripe:"",fit:"",height:"600",style:{width:"100%"}},{default:d((()=>[(u(!0),i(h,null,v(q.value,(e=>(u(),x(f,{prop:e.prop,label:e.label,width:"200"},null,8,["prop","label"])))),256))])),_:1},8,["data"])])])):(u(),i("div",V,[_,z,c("div",j,[r(g,{class:"searchChild",inset:""},{default:d((()=>[r(n,{modelValue:U.value,"onUpdate:modelValue":l[5]||(l[5]=e=>U.value=e),center:"",clearable:"",placeholder:"请输入身份证号或手机号"},{button:d((()=>[c("div",{class:"searchBtn",onClick:R},"搜索")])),_:1},8,["modelValue"])])),_:1})])]))])}}}))}}}));
