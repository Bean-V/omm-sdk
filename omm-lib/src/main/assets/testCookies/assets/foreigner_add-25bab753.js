import{d as Y,a as D,J as C,r as f,V as p,f as r,o as H,g as M,h as o,z as a,Z as n,a0 as s,j as w,ak as O,al as I,am as T,an as B,ao as N,a5 as S}from"./index-24b7b5a4.js";const P={style:{padding:"5px 16px"}},J=Y({__name:"foreigner_add",setup(R){D();const i=C(),b=f(!1),e=f({lrcsrq:p().format("YYYY-MM-DD HH:mm:ss"),lrcreate_time:p().format("YYYY-MM-DD HH:mm:ss"),lrdj_time:p().format("YYYY-MM-DD HH:mm:ss")}),q=[{text:"乘务签证",value:"乘务签证"},{text:"旅游签证",value:"旅游签证"},{text:"免办签证",value:"免办签证"},{text:"商贸签证",value:"商贸签证"},{text:"外国人居留许可",value:"外国人居留许可"},{text:"短期团聚签证",value:"短期团聚签证"},{text:"访问签证",value:"访问签证"},{text:"工作签证",value:"工作签证"},{text:"长期学习签证",value:"长期学习签证"},{text:"长期团聚签证",value:"长期团聚签证"},{text:"外交签证",value:"外交签证"}],z=[{text:"服务（员工）",value:"服务（员工）"},{text:"返回常驻地",value:"返回常驻地"},{text:"会议／商务",value:"会议／商务"},{text:"观光／休闲",value:"观光／休闲"},{text:"就业",value:"就业"},{text:"探亲访友",value:"探亲访友"},{text:"访问",value:"访问"},{text:"学习",value:"学习"},{text:"其他",value:"其他"}],_=[{text:"吐口岸城东检查站",value:"吐口岸城东检查站"},{text:"康西湾公安检查站",value:"康西湾公安检查站"},{text:"吐尔尕特口岸派出所采集点",value:"吐尔尕特口岸派出所采集点"},{text:"巴音库鲁提边境检查站",value:"巴音库鲁提边境检查站"},{text:"康苏边境检查站",value:"康苏边境检查站"},{text:"阿克公安检查站",value:"阿克公安检查站"}],h=[{text:"吐尔尕特口岸",value:"吐尔尕特口岸"},{text:"托帕",value:"托帕"},{text:"伊尔克什坦口岸",value:"伊尔克什坦口岸"},{text:"吉国",value:"吉国"},{text:"喀什",value:"喀什"},{text:"乌恰",value:"乌恰"},{text:"阿图什",value:"阿图什"},{text:"阿克陶",value:"阿克陶"},{text:"阿合奇",value:"阿合奇"},{text:"尕特货场",value:"尕特货场"}],j=()=>{O({passport:e.value.lrzjhm,xm:e.value.lrxm,sex:e.value.lrxb,birthday:e.value.lrcsrq,countryname:e.value.lrguojiadiqu,tel:e.value.lrtel,qzhm:e.value.lrqzhm,plate_number:e.value.lrjiaotonggongju,qzlx:e.value.lrqzlx,churujingshiyou:e.value.lrchurujingshiyou,create_time:e.value.lrcreate_time,churukouan:e.value.lrchurukouan,face:e.value.uploadimgmg||"",pic2:e.value.uploadimgzj||""}).then(d=>{if(Object.keys(d).length>0){const l=e.value.lrjrgonganmc;e.value.lrfangxiang=="进城方向"&&((l=="吐口岸城东检查站"||l=="康西湾公安检查站"||l=="阿克公安检查站")&&(console.log("进公"),I({id:d.id,jrgonganmc:l,jrgongantime:e.value.lrdj_time,jrgongancph:e.value.lrjiaotonggongju,jrgajczsjmdd:e.value.lrmdd,jrgajczsjlrr:i.userInfo.name}).then(t=>{alert("保存成功")})),(l=="吐尔尕特口岸派出所采集点"||l=="巴音库鲁提边境检查站"||l=="康苏边境检查站")&&(console.log("进边"),T({id:d.id,rjjczmc:l,rjcztime:e.value.lrdj_time,rjcph:e.value.lrjiaotonggongju,qzhm:e.value.lrqzhm,qzlx:e.value.lrqzlx,churujingshiyou:e.value.lrchurujingshiyou,rjbjjczmdd:e.value.lrmdd,tel:e.value.lrtel,rjbjjczlrr:i.userInfo.name}).then(t=>{alert("保存成功")}))),e.value.lrfangxiang=="出城方向"&&((l=="吐口岸城东检查站"||l=="康西湾公安检查站"||l=="阿克公安检查站")&&(console.log("出公"),B({id:d.id,cjjczmc:l,cjcztime:e.value.lrdj_time,cjjczcph:e.value.lrjiaotonggongju,jbjjczmdd:e.value.lrmdd,jbjjczlrr:i.userInfo.name}).then(t=>{alert("保存成功")})),(l=="吐尔尕特口岸派出所采集点"||l=="巴音库鲁提边境检查站"||l=="康苏边境检查站")&&(console.log("出边"),N({id:d.id,chujbjjczmc:l,chujbjjcztime:e.value.lrdj_time,chujbjjczcph:e.value.lrjiaotonggongju,cjbjjczmdd:e.value.lrmdd,cjbjjczlrr:i.userInfo.name}).then(t=>{alert("保存成功")})))}else S("保存失败")})};return(d,l)=>{const t=r("van-field"),m=r("van-radio"),v=r("van-radio-group"),g=r("DateTimePicker"),c=r("van-cell-group"),x=r("van-uploader"),V=r("van-col"),U=r("van-row"),k=r("van-button"),y=r("van-form");return H(),M(y,{onSubmit:j,disabled:b.value},{default:o(()=>[a(c,{inset:"",style:{"margin-top":"20px"}},{default:o(()=>[a(t,{modelValue:e.value.lrzjhm,"onUpdate:modelValue":l[0]||(l[0]=u=>e.value.lrzjhm=u),name:"证件号",label:"证件号",placeholder:"请填写证件号",required:"",rules:[{required:!0,message:"请填写证件号"}]},null,8,["modelValue"]),a(t,{modelValue:e.value.lrxm,"onUpdate:modelValue":l[1]||(l[1]=u=>e.value.lrxm=u),name:"姓名",label:"姓名",placeholder:"请填写姓名",required:"",rules:[{required:!0,message:"请填写姓名"}]},null,8,["modelValue"]),a(t,{name:"radio",required:"",label:"性别"},{input:o(()=>[a(v,{modelValue:e.value.lrxb,"onUpdate:modelValue":l[2]||(l[2]=u=>e.value.lrxb=u),direction:"horizontal"},{default:o(()=>[a(m,{name:"1"},{default:o(()=>[n("男")]),_:1}),a(m,{name:"2"},{default:o(()=>[n("女")]),_:1})]),_:1},8,["modelValue"])]),_:1}),a(g,{modelValue:e.value.lrcsrq,"onUpdate:modelValue":l[3]||(l[3]=u=>e.value.lrcsrq=u),label:"出生日期",placeholder:"请点击选择",required:"",rules:[{required:!0,message:"请填写出生日期"}]},null,8,["modelValue"]),a(t,{modelValue:e.value.lrguojiadiqu,"onUpdate:modelValue":l[4]||(l[4]=u=>e.value.lrguojiadiqu=u),name:"国籍",label:"国籍",placeholder:"请填写国籍",required:"",rules:[{required:!0,message:"请填写国籍"}]},null,8,["modelValue"]),a(t,{modelValue:e.value.lrtel,"onUpdate:modelValue":l[5]||(l[5]=u=>e.value.lrtel=u),name:"联系电话",label:"联系电话",placeholder:"请填写联系电话",required:"",rules:[{required:!0,message:"请填写联系电话"}]},null,8,["modelValue"]),a(t,{modelValue:e.value.lrqzhm,"onUpdate:modelValue":l[6]||(l[6]=u=>e.value.lrqzhm=u),name:"签证号码",label:"签证号码",placeholder:"请填写签证号码",required:"",rules:[{required:!0,message:"请填写签证号码"}]},null,8,["modelValue"]),a(s,{modelValue:e.value.lrqzlx,"onUpdate:modelValue":l[7]||(l[7]=u=>e.value.lrqzlx=u),options:q,label:"签证类型",required:"",placeholder:"请点击选择",rules:[{required:!0,message:"请选择内容"}]},null,8,["modelValue"]),a(t,{modelValue:e.value.lrjiaotonggongju,"onUpdate:modelValue":l[8]||(l[8]=u=>e.value.lrjiaotonggongju=u),name:"交通工具",label:"交通工具",placeholder:"请填写交通工具",required:"",rules:[{required:!0,message:"请填写交通工具"}]},null,8,["modelValue"]),a(s,{modelValue:e.value.lrchurujingshiyou,"onUpdate:modelValue":l[9]||(l[9]=u=>e.value.lrchurujingshiyou=u),options:z,label:"出入境事由",required:"",placeholder:"请点击选择",rules:[{required:!0,message:"请选择内容"}]},null,8,["modelValue"]),a(t,{name:"radio",required:"",label:"入口岸名称"},{input:o(()=>[a(v,{modelValue:e.value.lrchurukouan,"onUpdate:modelValue":l[10]||(l[10]=u=>e.value.lrchurukouan=u),direction:"horizontal"},{default:o(()=>[a(m,{name:"吐尔尕特口岸"},{default:o(()=>[n("吐尔尕特口岸")]),_:1}),a(m,{name:"伊尔克什坦"},{default:o(()=>[n("伊尔克什坦")]),_:1})]),_:1},8,["modelValue"])]),_:1}),a(g,{modelValue:e.value.lrcreate_time,"onUpdate:modelValue":l[11]||(l[11]=u=>e.value.lrcreate_time=u),label:"入境时间",placeholder:"请点击选择",required:""},null,8,["modelValue"]),a(s,{modelValue:e.value.lrjrgonganmc,"onUpdate:modelValue":l[12]||(l[12]=u=>e.value.lrjrgonganmc=u),options:_,label:"登记点位",required:"",placeholder:"请点击选择",rules:[{required:!0,message:"请选择内容"}]},null,8,["modelValue"]),a(t,{name:"radio",required:"",label:"方向"},{input:o(()=>[a(v,{modelValue:e.value.lrfangxiang,"onUpdate:modelValue":l[13]||(l[13]=u=>e.value.lrfangxiang=u),direction:"horizontal"},{default:o(()=>[a(m,{name:"进城方向"},{default:o(()=>[n("进城方向")]),_:1}),a(m,{name:"出城方向"},{default:o(()=>[n("出城方向")]),_:1})]),_:1},8,["modelValue"])]),_:1}),a(s,{modelValue:e.value.lrmdd,"onUpdate:modelValue":l[14]||(l[14]=u=>e.value.lrmdd=u),options:h,label:"目的地",required:"",placeholder:"请点击选择",rules:[{required:!0,message:"请选择内容"}]},null,8,["modelValue"])]),_:1}),a(c,{inset:"",title:"附件上传"},{default:o(()=>[a(U,null,{default:o(()=>[a(V,{span:"12"},{default:o(()=>[a(t,{name:"uploader","label-align":"top",label:"免冠照"},{input:o(()=>[a(x,{modelValue:e.value.file,"onUpdate:modelValue":l[15]||(l[15]=u=>e.value.file=u)},null,8,["modelValue"])]),_:1})]),_:1}),a(V,{span:"12"},{default:o(()=>[a(t,{name:"uploader","label-align":"top",label:"护照"},{input:o(()=>[a(x,{modelValue:e.value.file,"onUpdate:modelValue":l[16]||(l[16]=u=>e.value.file=u)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1}),w("div",P,[a(k,{type:"primary",block:"",onClick:j},{default:o(()=>[n(" 保存 ")]),_:1})])]),_:1},8,["disabled"])}}});export{J as default};
