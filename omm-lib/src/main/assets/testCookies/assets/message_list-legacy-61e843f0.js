System.register(["./index-legacy-18636006.js"],(function(e,a){"use strict";var l,t,n,s,u,i,r,o,v,c,d,f,g,h,m,p,y,z;return{setters:[e=>{l=e.d,t=e.r,n=e.T,s=e.e,u=e.C,i=e.f,r=e.o,o=e.l,v=e.z,c=e.h,d=e.F,f=e.D,g=e.n,h=e.U,m=e.V,p=e.g,y=e.j,z=e.t}],execute:function(){const a={class:"page"},_={key:0},x={key:0,class:"error-message"},b={key:1};e("default",l({__name:"message_list",setup(e){const l=t(!1),j=t(!1),k=n({size:10,current:1,total:0}),V=s((()=>k.size*k.current-k.size)),w=t([]),D=t(!0),U=async()=>{k.size=10,k.current=1,k.total=0,j.value=!1,w.value=[],A()};function A(){l.value=!0,h({num:k.size,start:V.value}).then((e=>{if(j.value=!0,e.rows&&Array.isArray(e.rows)){const a=e.rows.map((e=>(e.fabushijian=m(e.fabushijian).format("MM-DD HH:mm"),e)));w.value.push(...a),k.current+=1,k.total=e.total,e.total<k.current*k.size&&(j.value=!0)}})).catch((e=>{error.value=!0,j.value=!0})).finally((()=>{l.value=!1,D.value=!1}))}return u((()=>{A()})),(e,t)=>{const n=i("van-skeleton"),s=i("van-cell"),u=i("van-cell-group"),h=i("van-list"),m=i("van-pull-refresh");return r(),o("div",a,[v(m,{modelValue:l.value,"onUpdate:modelValue":t[1]||(t[1]=e=>l.value=e),onRefresh:U,"success-text":"加载成功","loading-text":"加载中......"},{default:c((()=>[v(n,{loading:D.value},null,8,["loading"]),D.value?g("",!0):(r(),o("div",_,[e.error?(r(),o("div",x,"加载失败，请重试")):(r(),o("div",b,[v(h,{loading:l.value,"onUpdate:loading":t[0]||(t[0]=e=>l.value=e),finished:j.value,offset:50,"finished-text":"",onLoad:A},{default:c((()=>[(r(!0),o(d,null,f(w.value,((e,a)=>(r(),p(u,{inset:"",key:a,style:{"margin-top":"10px"}},{default:c((()=>[v(s,{title:e.biaoti},{label:c((()=>[y("span",null,z(e.neirong),1)])),"right-icon":c((()=>[y("span",null,z(e.fabushijian),1)])),_:2},1032,["title"])])),_:2},1024)))),128))])),_:1},8,["loading","finished"])]))]))])),_:1},8,["modelValue"])])}}}))}}}));
